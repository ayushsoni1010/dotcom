-- ds.page: `GithubRepository Model`
nav-title: Blog
nav-title-url: blog/
nav-sub-title: How to setup continuous documentation for your Github Repo
nav-sub-title-url: blog/setup/
login-button: true

-- ds.code:
lang: py

class Repository(models.Model):
    repo_id = models.BigIntegerField()
    repo_name = models.CharField(max_length=150)
    repo_full_name = models.CharField(max_length=200)
    app = models.ForeignKey(social_models.SocialApp, on_delete=models.PROTECT)
    created_at = models.DateTimeField(auto_now_add=True)

    class Meta:
        unique_together = ("repo_id", "app")

    def __str__(self) -> str:
        return self.repo_full_name

    def pulls_page_url(self):
        return f"/{self.app.provider}/{self.repo_full_name}/pulls/"

    def get_url(self):
        return f"https://{self.app.provider}.com/{self.repo_full_name}/"
